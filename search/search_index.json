{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre> <p>sdfsf</p>"},{"location":"Targets/","title":"Introducci\u00f3","text":"<p>Classe 1: Aplicacions i serveis</p> <p>man init </p> <p></p> <p></p> <p>aqui dintre teinm scripts </p> <p>ru levels </p> <p>k0 apagar equip </p> <p>anem al systemd/system</p> <p></p> <p>si anem al etc/systemd/system trobarem els mateixos fitxer pero duplicats</p> <p>aixo vol dir que al lib es troben els fitxer de la configuracio original</p> <p></p> <p></p> <p></p> <p>Graphical user depen de basic-target</p> <p></p> <p>cron apareix dins del etc </p> <p>per a canviar de forma temporal un target: systemctl isolate rescue.target</p> <p>ara de forma permanent </p> <p>cd /lib/systemd/system</p> <p>rm default.target i tornet a fer el target: ln -s graphical.target default.target</p> <p></p> <p></p> <p>mirar si esta el cron enc\u00e8s </p> <p>ara farem que estigue apagat el cron i engegat el ssh mitjan\u00e7an un enlla\u00e7</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>si l\u2019habilitem vorem que a passat a S01 </p> <p></p> <p>Classe 2</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>Feina per a fer:</p> <p>Creat un nou target (amb el nostre nom) \u2192dintre del nostre target: crear un servei \u2192 crear i executar un script (llliure elecci\u00f3)</p> <p>Primer creem el nostre target </p> <p>ara fem el servei  </p> <p>de primeres els dos apareixeran com \u201cdeshabilitats\u201d</p> <p></p> <p>els podem iniciar amb un systemctl enable i comprobar que existeixen</p> <p></p> <p>tambe hem d'afegir el target com a default amb la seg\u00fcent comanda </p> <p>amb aquest script podrem vore el directori del systema afectat i tambe tindrem un petit quadre que mostrara el contingut dels fitxers seleccionats</p> <p></p> <p>l\u2019escript complet estara al fitxer.py\\&lt; </p> <p></p> <p>Serveis Windows 11</p> <p>ara farem una practica similar pero amb un sistema windows 11</p> <p>\u00b7crear un nou servei \u2192 Opcio 1 nssm.exe                   \u2192Opcio 2 powershell</p> <p>\u00b7Executar un script a l\u2019inici de la sessi\u00f3 d\u2019un usuari determinat</p> <p>services.msc \u2013 automatic         automatic retardat</p> <p>primer instal\u00b7lem nssm.exe</p> <p></p> <p>Creem una carpeta que contindr\u00e0 els scripts</p> <p></p> <p>Ara crearem el servei per terminal mitjan\u00e7ant NSSM on indicarem el directori inicial i la ubicaci\u00f3 del script</p> <p></p> <p></p> <p>Comprovem que s\u2019ha creat dins de \u201cservices\u201d</p> <p></p> <p>Creaci\u00f3 \u201cmail.cred\u201d. Aix\u00f2 ho utilitzarem per automatitzar el tema d'\u00fas de credencial per al SMTP</p> <p></p> <p>Afegim les credencials, \u201caquesta credencial al final sera la contrase\u00f1a generada per google\u201d</p> <p> </p> <p>Aquest script recopila un conjunt de dades de l'equip i ho envia via SMTP</p> <p></p> <p>despr\u00e9s de l\u2019execuci\u00f3 del script podem veure al nostre correu electr\u00f2nic les dades que s\u2019han recollit  </p> <p>Nova Activitat Ubuntu</p> <p>Kernel: Es el nucli del sistema i influeix en la comunicaci\u00f3 entre el hardware i el sistema. Aquest treballa en moduls, cadascun ocupat en una tasca. La extensi\u00f3 es \u201c.KO\u201d. Hi han m\u00f2duls actius, inactius, i alguns que estan esperant al fet que s\u2019activin. Aquest s\u2019engega abans que el sistema operatiu.</p> <p>Primer mirem la versi\u00f3 que tenim de kernel</p> <p></p> <p>Visualitzem els diferents kernels </p> <p></p> <p>Ara continuarem amb les comandes</p> <p></p> <p> </p> <p>Falta la captura del kernel \u2192 reiniciar \u2192 grub avan\u00e7at \u2192 escollir versio del kernel</p> <p>Un cop fet mirem la versio del kernel </p> <p></p> <p></p> <p> </p> <p>afegim el seguent repositori </p> <p> </p> <p></p> <p>vore els moduls carregats del kernel </p> <p>vore infor del modul </p> <p>contingut del kernel </p> <p>definir moduls carregats </p> <p>comanda per a carregar un modul de forma temporal (ram) </p> <p></p>"},{"location":"Targets/#comandes","title":"Comandes:","text":""},{"location":"Vpn/","title":"Vpnwindows","text":"<p>Aqui podriem afegir tot el proces de crear les maquines.. pero en aquest cas hem importat unes de classe.</p> <p>Primer afegim els rols de acces remot (vpn,routing)</p> <p> </p> <p>anem a personalitzar i escollim vpn i nat </p> <p>escollim l\u2019adaptador de xarxa  finalitzem </p> <p>Configurem  la nostra maquina com a servidor i ho habilitem </p> <p>Ens demanara configurar un dhcp per a les adre\u00e7es de la vpn\u2026 ara farem un apa\u00f1o </p> <p>per a evitar problemes amb les direccions i haver de configurar un dhcp ficarem un interval de adre\u00e7es est\u00e0tiques </p> <p>autoritzar acc\u00e9s a l'usuari de proves </p> <p>i el mes important es permetre l\u2019acces per xarxa </p> <p>al client configurarem la connexio per vpn a l\u2019usuari </p> <p>Ara anem a l'apartat de compartir els recursos i fer proves de funcionalitat</p> <p></p> <p>configurem el disc </p> <p>creem i configurem la carpeta del usuari</p> <p></p> <p>assignem els permisos corresponents a la carpeta  </p> <p>la compartim </p> <p>i li donem els permisos que toquen  revisem les dades de la vpn</p> <p></p> <p>i ens connectarem a ella </p> <p>Proves:</p> <p>Primer mirems els adaptadors que tenim</p> <p> com estem conectats per la vpn podrem fer ping a l\u2019interna</p> <p></p> <p>Podem vore que apareixem com a client</p> <p></p> <p>Un cop tot fet anem a vore si ens deixa entrar a la carpeta compartida per xarxa </p> <p>com estarem editant amb el usuari de xarxa de proves, tindrem control total de la carpeta </p>"},{"location":"kernel/","title":"Kernels","text":"<p>Nova Activitat Ubuntu</p> <p>Kernel: Es el nucli del sistema i influeix en la comunicaci\u00f3 entre el hardware i el sistema. Aquest treballa en moduls, cadascun ocupat en una tasca. La extensi\u00f3 es \u201c.KO\u201d. Hi han m\u00f2duls actius, inactius, i alguns que estan esperant al fet que s\u2019activin. Aquest s\u2019engega abans que el sistema operatiu.</p> <p>Captures de lo realitzat a classe:</p> <p>Primer mirem la versi\u00f3 que tenim de kernel</p> <p></p> <p>Visualitzem els diferents kernels </p> <p></p> <p>Ara continuarem amb les comandes</p> <p></p> <p> </p> <p>Falta la captura del kernel \u2192 reiniciar \u2192 grub avan\u00e7at \u2192 escollir versio del kernel</p> <p>Un cop fet mirem la versio del kernel </p> <p></p> <p></p> <p> </p> <p>afegim el seguent repositori </p> <p> </p> <p></p> <p>vore els moduls carregats del kernel </p> <p>vore infor del modul </p> <p>contingut del kernel </p> <p>definir moduls carregats </p> <p>comanda per a carregar un modul de forma temporal (ram) </p> <p></p> <p>parches de kernel</p> <p></p> <p></p> <p>fem lo parche</p> <p></p> <p>podem vore la informacio del parche amb un cat </p> <p>lo apliquem</p> <p></p> <p>comprovem que funciona</p> <p></p> <p>Practica individual de modificaci\u00f3 i compilaci\u00f3 de kernel: </p> <p></p> <p>Primer instalem els paquets necessaris </p> <p>Tamb\u00e9 depenent de la versi\u00f3 del sistema hem de descomentar unes l\u00ednies dels sources.list </p> <p>Mirem la nostra versio del kernel </p> <p>Baixem i descomprimim una versi\u00f3 m\u00e9s actualitzada </p> <p>fem una copia del ini main: cp init/main.c init/main.c.copia</p> <p>la editem </p> <p>Per exemple podem afegir un pr_notice(\u201cHola, Jordi\u201d); </p> <p>ara creem un parche </p> <p>i l\u2019apliquem al paquet del kernel </p> <p>fem un build </p> <p>podem copiar la configuraci\u00f3 del nostre kernel per si la volem recuperar m\u00e9s endavant </p> <p>amb el make old config actualitzem el fitxer de configuracio existent </p> <p>pero tambe hem de esborrar el certificats, tant el \u201ctrusted_keys\u201d com el \u201crevocation_keys\u201d </p> <p>Ara desactivarem les seg\u00fcents configuracions de debug per facilitar la compilaci\u00f3 del kernel </p> <p></p> <p>extra: podem modificar parts del kernel amb \u201cmenu config\u201d que \u00e9s la versio m\u00e9s moderna </p> <p>fem un make clean per si acas ja hav\u00edem iniciat pr\u00e8viament una compilaci\u00f3, i despres comen\u00e7em a compilar com toca </p> <p></p> <p>despres de compilar anem a la ruta dels paquets.deb generats i apliquem la seg\u00fcent comanda </p> <p>sudo dpkg -i linux-*.deb </p> <p>editem el menu del grub, tan per habilitar-lo com per a ficar un \u201ctimer\u201d mes alt</p> <p>sudo update-grub: actualitzem el grub </p> <p>fem un \u201creboot\u201d i escollim la versi\u00f3 del kernel nova dins del men\u00fa d'opcions avan\u00e7ades </p> <p>uname -r: mirem si tenim el kernel actualitzat a la versi\u00f3 corresponent </p> <p>dmesg | grep Jordi: per a vore el missatge que hem creat amb \u201cpr_\u201d</p> <p></p>"}]}